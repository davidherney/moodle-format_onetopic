define("format_onetopic/oneline",["exports","jquery"],(function(_exports,_jquery){var obj;
/**
   * Used to oneline tabs view.
   *
   * @module    format_onetopic/oneline
   * @copyright 2021 David Herney Bernal - cirano
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.load=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.load=icons=>{(0,_jquery.default)(".format-onetopic .onelinetabs .tabs-wrapper").each((function(){var $container=(0,_jquery.default)(this),$menu=$container.find("> ul.nav.nav-tabs"),itemsLength=$menu.find("> li.nav-item").length,itemSize=$menu.find("> li.nav-item").outerWidth(!0),$leftarrow=(0,_jquery.default)('<button class="scroll-arrow left-arrow">'+icons.left+"</button>"),$rightarrow=(0,_jquery.default)('<button class="scroll-arrow right-arrow">'+icons.right+"</button>");$container.append($leftarrow),$container.append($rightarrow);var getMenuSize=function(){return itemsLength*itemSize},getMenuPosition=function(){return $menu.scrollLeft()},getMenuWrapperSize=function(){return $container.width()},hasScroll=function(){return $menu.get(0).scrollWidth>$menu.get(0).clientWidth},getInvisibleSize=function(){return menuSize-getMenuPosition()-menuWrapperSize};hasScroll()&&$container.addClass("hasscroll");var menuWrapperSize=getMenuWrapperSize(),wrapPadding=$container.outerWidth()-$container.width(),menuSize=getMenuSize(),menuInvisibleSize=getInvisibleSize();(0,_jquery.default)(window).on("resize",(function(){menuWrapperSize=getMenuWrapperSize(),menuSize=getMenuSize(),calcArrowVisible()}));var calcArrowVisible=function(){var menuPosition=getMenuPosition();menuInvisibleSize=getInvisibleSize();var maxScrollLeft=$menu.get(0).scrollWidth-$menu.get(0).clientWidth,menuEndOffset=menuInvisibleSize-20;hasScroll()?($container.addClass("hasscroll"),menuPosition<=20?($leftarrow.addClass("hidden"),$rightarrow.removeClass("hidden")):menuPosition<maxScrollLeft?($leftarrow.removeClass("hidden"),$rightarrow.removeClass("hidden")):menuPosition>=menuEndOffset&&($leftarrow.removeClass("hidden"),$rightarrow.addClass("hidden"))):($leftarrow.addClass("hidden"),$rightarrow.addClass("hidden"),$container.removeClass("hasscroll"))};$menu.on("scroll",(function(){calcArrowVisible()})),$rightarrow.on("click",(function(event){event.preventDefault();var newX=getMenuPosition()+.8*menuWrapperSize;$menu.animate({scrollLeft:newX},300)})),$leftarrow.on("click",(function(event){event.preventDefault();var newX=getMenuPosition()-.8*menuWrapperSize;$menu.animate({scrollLeft:newX},300)}));var $active=$container.find(".nav-link.active");if($active.length>0){var newX=$active.position().left-wrapPadding/2;$menu.animate({scrollLeft:newX},300)}calcArrowVisible()}))}}));

//# sourceMappingURL=oneline.min.js.map